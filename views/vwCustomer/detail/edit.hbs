<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Detail</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/customer/css/detail.css">
</head>

<body>
    <form action="">
        <div class="container my-3">
            <!-- Card -->
            <div class="card" id="food-card">
                <!-- Header -->
                <div class="food-header">
                    <div class="image" style='background-image: url("/images/{{this.menu_item.image_href}}");'>
                        <div class="header-buttons">
                            <a class="btn-circle" id="close-btn" href="/customer/menu">X</a>
                            <button class="btn-circle" id="share-btn">ðŸ”—</button>
                        </div>
                    </div>
                </div>
                <!-- Content -->
                <div class="food-content">
                    <div class="price_name_block food-info">
                        <div class="price_name_block_name">
                            <span>{{this.menu_item.name}}</span>
                        </div>
                        <div class="text-end price_name_block_price">
                            <span class="price-old">{{this.menu_item.sale_price}}</span>
                            {{!-- <br> --}}
                            <span class="price-new">{{this.menu_item.sale_price}}</span>
                        </div>
                    </div>
                    <span id="txtDescription">{{this.menu_item.description}}</span>
                    <hr>

                    <!-- Add-ons -->
                    <div class="addons">
                        <div class="d-flex align-items-center mb-3">
                            <div class="title" style="margin-right: 10px;">ThÃªm toppings</div>
                            <div class="text-muted small"> KhÃ´ng báº¯t buá»™c</div>
                        </div>
                        {{#each this.toppings}}
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="option1">
                            <label class="form-check-label" for="option1" style="width: 100%;">
                                <div class="d-flex justify-content-between">
                                    <div>{{this.topping_name}}</div>
                                    <div>+{{this.sale_price}}</div>
                                </div>
                            </label>
                        </div>
                        <hr>
                        {{/each}}
                    </div>

                    <div class="addons">
                        <div class="d-flex align-items-center mb-3">
                            <div class="title" style="margin-right: 10px;">ThÃªm lÆ°u Ã½ cho quÃ¡n</div>
                            <div class="text-muted small"> KhÃ´ng báº¯t buá»™c</div>
                        </div>
                        <div class="form-floating">
                            <textarea class="form-control"
                                placeholder="Viá»‡c thá»±c hiá»‡n yÃªu cáº§u cÃ²n tÃ¹y thuá»™c vÃ o kháº£ nÄƒng cá»§a quÃ¡n"
                                id="floatingTextarea2" style="height: 100px"></textarea>
                            <label for="floatingTextarea2">YÃªu cáº§u</label>
                        </div>
                    </div>
                </div>
                <div class="quantity_block">
                    <button type="button" id="btnMinus">
                        <i class="bi bi-dash"></i>
                    </button>
                    <input type="number" value="1" id="txtCount" readonly>
                    <button type="button" id="btnPlus">
                        <i class="bi bi-plus"></i>
                    </button>
                </div>
            </div>
            <!-- Footer -->
            <div class="footer">
                {{!-- <p class="text-muted small">You'll save 3.025Ä‘ after the discount.</p> --}}
                <button class="btn btn-success btn-lg" id="add-to-basket-btn">Add to Basket - 57.475</button>
            </div>
        </div>
    </form>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#btnMinus').click(function () {
                var count = parseInt($('#txtCount').val());
                if (count > 1)
                    $('#txtCount').val(--count);
            })

            $('#btnPlus').click(function () {
                var count = parseInt($('#txtCount').val());
                $('#txtCount').val(++count);
            })

        });

        document.addEventListener('DOMContentLoaded', () => {
            // Close button functionality
            /*
            const closeButton = document.getElementById('close-btn');
            closeButton.addEventListener('click', () => {
                const card = document.getElementById('food-card');
                card.style.display = 'none'; // Hides the card
            });
            */

            // Share button functionality
            const shareButton = document.getElementById('share-btn');
            shareButton.addEventListener('click', () => {
                navigator.clipboard.writeText(window.location.href) // Copy the current URL
                    .then(() => alert('Link copied to clipboard!'))
                    .catch(() => alert('Failed to copy the link.'));
            });

            // Add-to-basket button functionality
            const addToBasketButton = document.getElementById('add-to-basket-btn');
            addToBasketButton.addEventListener('click', () => {
                alert('Item added to the basket!');
            });
        });

    </script>
</body>

</html>